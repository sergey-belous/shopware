(window["webpackJsonpPluginswag-pay-pal"]=window["webpackJsonpPluginswag-pay-pal"]||[]).push([[76],{1811:function(){},3076:function(n,a,t){"use strict";t.r(a),t.d(a,{default:function(){return e}}),t(9008);var e=Shopware.Component.wrapComponentConfig({template:'{% block swag_paypal_content_card_channel_config_vaulting %}\n<sw-card\n    positionIdentifier="swag-paypal-card-channel-config-vaulting"\n    :title="$tc(\'swag-paypal.settingForm.vaulting.cardTitle\')"\n    class="swag-paypal-vaulting"\n    :is-loading="isLoadingMerchantInformation"\n    help-text="test"\n>\n    {% block swag_paypal_content_card_channel_config_vaulting_settings %}\n    <div v-if="actualConfigData" class="swag-paypal-settings-vaulting">\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_description_title %}\n        <div class="swag-paypal-settings-vaulting-description-title">\n            {{ $tc(\'swag-paypal.settingForm.vaulting.description.title\') }}\n        </div>\n        {% endblock %}\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_description_text %}\n        <div>\n            {{ $tc(\'swag-paypal.settingForm.vaulting.description.text\') }}\n        </div>\n        {% endblock %}\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_wallet %}\n        <sw-inherit-wrapper\n            v-if="canHandleVaulting && !isLoadingMerchantInformation"\n            v-model:value="actualConfigData[\'SwagPayPal.settings.vaultingEnabledWallet\']"\n            :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.vaultingEnabledWallet\']"\n            :customInheritationCheckFunction="checkBoolFieldInheritance"\n        >\n            <template #content="props">\n                <sw-switch-field\n                    name="SwagPayPal.settings.vaultingEnabledWallet"\n                    bordered\n                    :mapInheritance="props"\n                    :label="$tc(\'swag-paypal.settingForm.vaulting.enableWallet.label\')"\n                    :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                    :value="props.currentValue"\n                    @update:value="props.updateCurrentValue"\n                />\n            </template>\n        </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_acdc %}\n        <sw-inherit-wrapper\n            v-if="canHandleVaulting && !isLoadingMerchantInformation"\n            v-model:value="actualConfigData[\'SwagPayPal.settings.vaultingEnabledACDC\']"\n            :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.vaultingEnabledACDC\']"\n            :customInheritationCheckFunction="checkBoolFieldInheritance"\n        >\n            <template #content="props">\n                <sw-switch-field\n                    name="SwagPayPal.settings.vaultingEnabledACDC"\n                    bordered\n                    :mapInheritance="props"\n                    :label="$tc(\'swag-paypal.settingForm.vaulting.enableACDC.label\')"\n                    :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                    :value="props.currentValue"\n                    @update:value="props.updateCurrentValue"\n                />\n            </template>\n        </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_venmo %}\n        <sw-inherit-wrapper\n            v-if="canHandleVaulting && !isLoadingMerchantInformation"\n            v-model:value="actualConfigData[\'SwagPayPal.settings.vaultingEnabledVenmo\']"\n            :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.vaultingEnabledVenmo\']"\n            :customInheritationCheckFunction="checkBoolFieldInheritance"\n        >\n            <template #content="props">\n                <sw-switch-field\n                    name="SwagPayPal.settings.vaultingEnabledVenmo"\n                    bordered\n                    :mapInheritance="props"\n                    :label="$tc(\'swag-paypal.settingForm.vaulting.enableVenmo.label\')"\n                    :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                    :value="props.currentValue"\n                    @update:value="props.updateCurrentValue"\n                />\n            </template>\n        </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block swag_paypal_content_card_channel_config_vaulting_settings_onboarding %}\n        <div v-if="!canHandleVaulting && !isLoadingMerchantInformation">\n            {% block swag_paypal_content_card_channel_config_vaulting_settings_onboarding_button %}\n            <a\n                v-show="!isSandbox"\n                class="sw-button sw-button--ghost swag-paypal-settings-vaulting-activate-button"\n                target="_blank"\n                :href="onboardingUrlLive"\n                :disabled="!acl.can(\'swag_paypal.editor\')"\n                data-paypal-onboard-complete="onboardingCallbackLive"\n                data-paypal-button="true"\n            >\n                {{ $tc(\'swag-paypal.settingForm.vaulting.activateButton.label\') }}\n            </a>\n            <a\n                v-show="isSandbox"\n                class="sw-button sw-button--ghost swag-paypal-settings-vaulting-activate-button"\n                target="_blank"\n                :href="onboardingUrlSandbox"\n                :disabled="!acl.can(\'swag_paypal.editor\')"\n                data-paypal-onboard-complete="onboardingCallbackSandbox"\n                data-paypal-button="true"\n            >\n                {{ $tc(\'swag-paypal.settingForm.vaulting.activateButton.label\') }}\n            </a>\n            {% endblock %}\n        </div>\n        {% endblock %}\n\n    </div>\n    {% endblock %}\n</sw-card>\n{% endblock %}\n',inject:["acl","SwagPayPalApiCredentialsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification"),Shopware.Mixin.getByName("swag-paypal-credentials-loader")],props:{actualConfigData:{type:Object,required:!0,default:()=>({})},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{type:String,required:!1,default:null},isSaveSuccessful:{type:Boolean,required:!0}},data(){return{merchantInformation:null,isLoadingMerchantInformation:!1}},computed:{isSandbox(){return this.actualConfigData["SwagPayPal.settings.sandbox"]},canHandleVaulting(){return this.merchantInformation?.merchantIntegrations?.capabilities?.some(n=>n?.name==="PAYPAL_WALLET_VAULTING_ADVANCED"&&n?.status==="ACTIVE")}},watch:{isSaveSuccessful(n){!1!==n&&this.createdComponent()}},created(){this.createdComponent()},methods:{async createdComponent(){this.isLoadingMerchantInformation=!0,await this.fetchMerchantInformation(),this.isLoadingMerchantInformation=!1},async fetchMerchantInformation(){this.merchantInformation=await this.SwagPayPalApiCredentialsService.getMerchantInformation(this.selectedSalesChannelId).catch(n=>(this.createNotificationFromError({errorResponse:n}),null))},checkBoolFieldInheritance(n){return"boolean"!=typeof n}}})},9008:function(n,a,t){var e=t(1811);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[n.id,e,""]]),e.locals&&(n.exports=e.locals),t(5346).Z("7d0f6b64",e,!0,{})}}]);